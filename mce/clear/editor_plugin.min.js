(function(){tinymce.create('tinymce.plugins.Clear',{init:function(ed,url){ed.addButton('clearboth',{title:'Clear floats ('+(tinymce.Env.mac?'\u2303\u2325':'Shift+Alt+')+'F'+')',cmd:'clearBoth',image:url+'/images/clear.svg',onPostRender:function(){var _this=this;ed.on('NodeChange',function(e){_this.active(e.element.title=='Clear')})}});var clearHTML='<img src="'+url+'/images/transparent.gif" style="clear: both;" class="mceClear mceClearboth mceItemNoResize" title="Clear">';var insertClear=function(){var html=clearHTML;ed.execCommand('mceInsertContent',!1,html)};ed.addCommand('clearBoth',function(){insertClear()});ed.addShortcut('ctrl+alt+f','Clear floats','clearBoth');ed.on('Init',function(){ed.dom.loadCSS(url+'/css/clear.min.css')});ed.on('BeforeSetContent',function(e){e.content=e.content.replace(/<br clear=" *([^" ]+) *">/g,clearHTML);e.content=e.content.replace(/<br style="clear:both;">/g,clearHTML);e.content=e.content.replace(/<div class="clearfix divider"><\/div>/g,clearHTML)});ed.on('PostProcess',function(e){if(e.get){e.content=e.content.replace(/<img[^>]+>/g,function(html){if(html.indexOf('class="mceClear')!==-1){var m,clear=(m=html.match(/mceClear([a-z]+)/))?m[1]:'';html='<br style="clear:both;">'}
return html})}})},createControl:function(n,cm){return null},getInfo:function(){return{longname:'Clear Floats Button',author:'Graffino',authorurl:'http://graffino.com',infourl:'https://wordpress.org/plugins/clear-floats-button/',version:"1.2.3"}}});tinymce.PluginManager.add('clear',tinymce.plugins.Clear)})()